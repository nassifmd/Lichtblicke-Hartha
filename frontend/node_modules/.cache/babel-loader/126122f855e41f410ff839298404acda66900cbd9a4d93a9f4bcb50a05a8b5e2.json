{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/clients/Lichtblicke-Hartha/frontend/src/ProtectedForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './ProtectedForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedForm = () => {\n  _s();\n  const navigate = useNavigate();\n  const [authorized, setAuthorized] = useState(false);\n  const [formData, setFormData] = useState({\n    project: '',\n    date: '',\n    name: '',\n    phone: '',\n    email: '',\n    comments: ''\n  });\n  const [status, setStatus] = useState(null);\n  useEffect(() => {\n    const user = sessionStorage.getItem('user');\n    if (!user) {\n      navigate('/login');\n    } else {\n      setAuthorized(true);\n    }\n  }, [navigate]);\n  const handleChange = e => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setStatus('Sending...');\n    try {\n      const res = await fetch('http://localhost:5000/send-email', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      if (!res.ok) throw new Error('Failed');\n      setStatus('Message sent successfully!');\n      setFormData({\n        project: '',\n        date: '',\n        name: '',\n        phone: '',\n        email: '',\n        comments: ''\n      });\n    } catch (err) {\n      setStatus('Failed to send. Please try again later.');\n    }\n  };\n  if (!authorized) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"project-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Project Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"project\",\n        maxLength: \"25\",\n        placeholder: \"Project Name\",\n        value: formData.project,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"date\",\n        value: formData.date,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        maxLength: \"25\",\n        placeholder: \"Full Name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"phone\",\n        maxLength: \"25\",\n        placeholder: \"Phone Number\",\n        value: formData.phone,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        maxLength: \"50\",\n        placeholder: \"Email\",\n        value: formData.email,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"comments\",\n        maxLength: \"300\",\n        placeholder: \"Comments\",\n        value: formData.comments,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), status && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"form-status\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(ProtectedForm, \"NkwDBsWDZ/FJewD5YawvE0NTi3M=\", false, function () {\n  return [useNavigate];\n});\n_c = ProtectedForm;\nexport default ProtectedForm;\nvar _c;\n$RefreshReg$(_c, \"ProtectedForm\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","ProtectedForm","_s","navigate","authorized","setAuthorized","formData","setFormData","project","date","name","phone","email","comments","status","setStatus","user","sessionStorage","getItem","handleChange","e","prev","target","value","handleSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","Error","err","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","maxLength","placeholder","onChange","required","type","_c","$RefreshReg$"],"sources":["/Applications/MAMP/htdocs/clients/Lichtblicke-Hartha/frontend/src/ProtectedForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './ProtectedForm.css';\n\nconst ProtectedForm = () => {\n  const navigate = useNavigate();\n  const [authorized, setAuthorized] = useState(false);\n  const [formData, setFormData] = useState({\n    project: '',\n    date: '',\n    name: '',\n    phone: '',\n    email: '',\n    comments: ''\n  });\n  const [status, setStatus] = useState(null);\n\n  useEffect(() => {\n    const user = sessionStorage.getItem('user');\n    if (!user) {\n      navigate('/login');\n    } else {\n      setAuthorized(true);\n    }\n  }, [navigate]);\n\n  const handleChange = (e) => {\n    setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setStatus('Sending...');\n    try {\n      const res = await fetch('http://localhost:5000/send-email', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData),\n      });\n\n      if (!res.ok) throw new Error('Failed');\n\n      setStatus('Message sent successfully!');\n      setFormData({ project: '', date: '', name: '', phone: '', email: '', comments: '' });\n    } catch (err) {\n      setStatus('Failed to send. Please try again later.');\n    }\n  };\n\n  if (!authorized) return null;\n\n  return (\n    <div className=\"form-container\">\n      <form className=\"project-form\" onSubmit={handleSubmit}>\n        <h2>Project Form</h2>\n        <input name=\"project\" maxLength=\"25\" placeholder=\"Project Name\" value={formData.project} onChange={handleChange} required />\n        <input type=\"date\" name=\"date\" value={formData.date} onChange={handleChange} required />\n        <input name=\"name\" maxLength=\"25\" placeholder=\"Full Name\" value={formData.name} onChange={handleChange} required />\n        <input name=\"phone\" maxLength=\"25\" placeholder=\"Phone Number\" value={formData.phone} onChange={handleChange} required />\n        <input type=\"email\" name=\"email\" maxLength=\"50\" placeholder=\"Email\" value={formData.email} onChange={handleChange} required />\n        <textarea name=\"comments\" maxLength=\"300\" placeholder=\"Comments\" value={formData.comments} onChange={handleChange}></textarea>\n\n        <button type=\"submit\">Send</button>\n        {status && <p className=\"form-status\">{status}</p>}\n      </form>\n    </div>\n  );\n};\n\nexport default ProtectedForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}